<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!--<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />-->
		<title>canvas</title>
	</head>
	<body>
		<canvas id="canvas1" width="640" height="1041"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById("canvas1");
			var c = canvas.getContext("2d");
			var index = 0;
			var img = new Image();
			var timer = null;
			img.onload = function(){
				c.drawImage(img,0,0,640,1041);
			}
			img.src = "img/video/che_1.jpg";
			
			canvas.addEventListener("touchstart",videoStart,false);
			canvas.addEventListener("touchend",videoStop,false);
			function videoStart(ev){
				ev.preventDefault();
				timer = setInterval(function(){
					index++;
					if(index>235){
						index = 1;
					};
					var img = new Image();
					img.onload = function(){
						c.drawImage(img,0,0,640,1041);
					}
					img.src = "img/video/che_"+index+".jpg";
				},1000/16);
			}
			function videoStop(ev){
				ev.preventDefault();
				if(timer){
					clearInterval(timer);
				};
				
			}
		</script>
	</body>
</html>
